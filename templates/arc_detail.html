{% extends "base.html" %}
{% block title %}{{ arc.name }} - Arc Raiders Damage Tracker{% endblock %}
{% block content %}
{% set threat_text = {'extreme': 'text-extreme', 'critical': 'text-critical', 'high': 'text-high', 'moderate': 'text-moderate', 'low': 'text-low'} %}
{% set threat_bg = {'extreme': 'bg-extreme-muted/20 border-extreme-muted/40', 'critical': 'bg-critical-muted/20 border-critical-muted/40', 'high': 'bg-high-muted/20 border-high-muted/40', 'moderate': 'bg-moderate-muted/20 border-moderate-muted/40', 'low': 'bg-low-muted/20 border-low-muted/40'} %}

<a href="/" class="inline-flex items-center gap-1.5 text-sm text-gray-500 hover:text-gray-300 transition-colors mb-6">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
    </svg>
    All ARCs
</a>

<div class="mb-8">
    <h2 class="text-2xl sm:text-3xl font-bold tracking-tight mb-3">{{ arc.name }}</h2>
    <div class="flex flex-wrap items-center gap-3">
        <span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold uppercase tracking-wider border {{ threat_bg[arc.threat_level] }} {{ threat_text[arc.threat_level] }}">
            {{ arc.threat_level|title }}
        </span>
        <span class="text-sm text-gray-500">{{ arc.type }}</span>
        <div class="flex items-center gap-4 text-sm">
            <span class="text-gray-400"><span class="font-mono font-medium text-gray-300">{{ arc.kill_xp }}</span> <span class="text-gray-600">kill xp</span></span>
            <span class="text-gray-400"><span class="font-mono font-medium text-gray-300">{{ arc.loot_xp }}</span> <span class="text-gray-600">loot xp</span></span>
        </div>
    </div>
</div>

<section>
    <h3 class="text-sm font-semibold tracking-widest uppercase text-gray-400 mb-3">Strategies</h3>
    {% if arc.strategies %}
    <div class="space-y-3">
        {% for strategy in arc.strategies %}
        <div class="rounded-xl border {{ 'border-emerald-500/30 bg-emerald-500/5' if strategy.best else 'border-gray-800/80 bg-gray-900/30' }} p-4 transition-colors">
            <div class="flex items-start justify-between gap-3 mb-2">
                <div class="flex items-center gap-2 flex-wrap">
                    {% for item in strategy['items'] %}
                    {% if not loop.first %}
                    <span class="text-gray-600 text-xs">+</span>
                    {% endif %}
                    <div class="flex items-center gap-1.5">
                        <span class="inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider {{ 'bg-blue-500/15 text-blue-400 border border-blue-500/20' if item.type == 'weapon' else 'bg-orange-500/15 text-orange-400 border border-orange-500/20' }}">
                            {{ item.type }}
                        </span>
                        <span class="font-medium text-gray-200">{{ item.name }}</span>
                        <span class="font-mono text-sm font-medium text-emerald-400">{{ item.units }}x</span>
                    </div>
                    {% endfor %}
                </div>
                <div class="flex items-center gap-2 shrink-0">
                    {% if strategy.best %}
                    <span class="inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-emerald-500/15 text-emerald-400 border border-emerald-500/20">best</span>
                    {% endif %}
                    {% if strategy.verified %}
                    <span class="inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-emerald-500/10 text-emerald-500/80 border border-emerald-500/15">{{ strategy.verified }}</span>
                    {% endif %}
                </div>
            </div>
            {% if strategy.notes %}
            <p class="text-sm text-gray-400 leading-relaxed">{{ strategy.notes }}</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="rounded-xl border border-dashed border-gray-800 px-4 py-8 text-center">
        <p class="text-gray-600 text-sm">No strategies documented yet.</p>
        <p class="text-gray-700 text-xs mt-1">Be the first to contribute!</p>
    </div>
    {% endif %}
</section>
{% endblock %}
